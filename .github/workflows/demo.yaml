name: Failure Handling Warmup

on:
  push:
    branches:
      - main

jobs:
  failure-demo:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Intentionally fail
        id: failing-step
        run: bash fail-or-pass.sh

      - name: Recovery step
        if: success() && steps.failing-step.outcome == 'failure'
        run: echo "Hop on the struggle bus, because we're trying to recover from the failure!"

      - name: Summary step
        run: echo "Workflow finished (success or failure)."
